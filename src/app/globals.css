@import "tailwindcss";

:root {
  /* Forge Design System — all values from tokens.ts */
  --forge-void: #07070c;
  --forge-bg: #0d0d14;
  --forge-surface: rgba(255, 255, 255, 0.03);
  --forge-elevated: rgba(255, 255, 255, 0.06);
  --forge-overlay: rgba(255, 255, 255, 0.10);

  --forge-ember: #ff6b35;
  --forge-flame: #ffb347;
  --forge-molten: #ff4500;
  --forge-coal: #8b2500;
  --forge-ash: #2a1a10;

  --text-primary: #f0ece6;
  --text-secondary: #8a8494;
  --text-accent: #ffb347;
  --text-dim: #555060;

  --glass-border: rgba(255, 255, 255, 0.08);
  --glass-border-hover: rgba(255, 107, 53, 0.30);

  --status-green: #4ade80;
  --status-yellow: #fbbf24;
  --status-red: #ef4444;
  --status-blue: #60a5fa;

  /* Legacy compat */
  --background: #0d0d14;
  --foreground: #f0ece6;
  --accent: #ff6b35;
  --accent-dim: #ffb347;
  --surface: rgba(255, 255, 255, 0.03);
  --surface-raised: rgba(255, 255, 255, 0.06);
  --border: rgba(255, 255, 255, 0.08);
  --text-muted: #8a8494;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-accent: var(--accent);
  --color-accent-dim: var(--accent-dim);
  --color-surface: var(--surface);
  --color-surface-raised: var(--surface-raised);
  --color-border: var(--border);
  --color-text-muted: var(--text-muted);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

body {
  background: var(--forge-bg);
  color: var(--text-primary);
  font-family: var(--font-sans), 'Inter', system-ui, -apple-system, sans-serif;
  padding-top: env(safe-area-inset-top);
  padding-bottom: env(safe-area-inset-bottom);
  min-height: 100vh;
  overflow-x: hidden;
  line-height: 1.5;
  font-size: 14px;
}

/* ═══ FORGE KEYFRAMES ═══ */

@keyframes orb-breathe {
  0%, 100% { opacity: 0.7; transform: scale(1); }
  50% { opacity: 1; transform: scale(1.15); }
}

@keyframes glow-breathe {
  0%, 100% { opacity: 0.55; transform: scale(1); }
  50% { opacity: 1; transform: scale(1.06); }
}

@keyframes ember-float {
  0% {
    transform: translateY(0) translateX(0) scale(1);
    opacity: 0;
  }
  10% { opacity: 0.5; }
  80% { opacity: 0.2; }
  100% {
    transform: translateY(-100vh) translateX(var(--drift, 0px)) scale(0.3);
    opacity: 0;
  }
}

@keyframes forge-pulse {
  0%, 100% { box-shadow: 0 0 15px rgba(255, 69, 0, 0.3); }
  50% { box-shadow: 0 0 30px rgba(255, 69, 0, 0.5); }
}

@keyframes shimmer {
  from { background-position: 200% 0; }
  to { background-position: -200% 0; }
}

@keyframes slide-up {
  from { opacity: 0; transform: translateY(12px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(8px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes ember-burst {
  0% { transform: scale(0); opacity: 1; }
  50% { transform: scale(1.2); opacity: 0.6; }
  100% { transform: scale(1.5); opacity: 0; }
}

@keyframes qotd-pulse {
  0%, 100% { border-left-color: var(--forge-ember); }
  50% { border-left-color: var(--forge-flame); }
}

@keyframes bar-shimmer {
  0%, 100% { filter: brightness(1); }
  50% { filter: brightness(1.25); }
}

.ambient-orb {
  animation: glow-breathe 5s ease-in-out infinite;
}

.ember-particle {
  animation: ember-float linear infinite;
}

/* Alert vignette overlay */
@keyframes alert-pulse {
  0%, 100% { opacity: 0.6; }
  50% { opacity: 1; }
}

.alert-vignette {
  position: fixed;
  inset: 0;
  z-index: 9999;
  pointer-events: none;
  animation: alert-pulse 4s ease-in-out infinite;
  background: radial-gradient(ellipse at center, transparent 50%, rgba(220, 30, 30, 0.6) 85%, rgba(180, 10, 10, 0.8) 100%);
  box-shadow: inset 0 0 150px 60px rgba(200, 20, 20, 0.5);
}

/* Page transitions */
main {
  animation: fadeIn 0.3s ease-out;
}

/* Scrollbar */
::-webkit-scrollbar { width: 6px; height: 6px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.08); border-radius: 3px; }
::-webkit-scrollbar-thumb:hover { background: rgba(255, 255, 255, 0.15); }

@media (max-width: 768px) {
  .overflow-x-auto {
    scrollbar-width: none;
    -ms-overflow-style: none;
  }
  .overflow-x-auto::-webkit-scrollbar { display: none; }
}

@media (prefers-reduced-motion: reduce) {
  .ambient-orb, .ember-particle { animation: none !important; }
  .ember-particle { display: none; }
}

/* Cinzel font class */
.font-cinzel {
  font-family: 'Cinzel', serif;
}

/* Dark prose styling for markdown */
.prose-dark {
  color: var(--foreground);
  line-height: 1.75;
}
.prose-dark h1, .prose-dark h2, .prose-dark h3, .prose-dark h4 {
  color: var(--foreground);
  font-weight: 600;
  margin-top: 1.5em;
  margin-bottom: 0.5em;
}
.prose-dark h1 { font-size: 1.875rem; }
.prose-dark h2 { font-size: 1.5rem; border-bottom: 1px solid var(--border); padding-bottom: 0.25em; }
.prose-dark h3 { font-size: 1.25rem; }
.prose-dark p { margin: 1em 0; }
.prose-dark a { color: var(--accent); text-decoration: underline; }
.prose-dark code {
  background: var(--surface-raised);
  color: var(--accent);
  padding: 0.125em 0.375em;
  border-radius: 0.25rem;
  font-size: 0.875em;
}
.prose-dark pre {
  background: var(--surface-raised);
  border: 1px solid var(--border);
  border-radius: 0.5rem;
  padding: 1rem;
  overflow-x: auto;
  margin: 1em 0;
}
.prose-dark pre code { background: transparent; padding: 0; color: var(--foreground); }
.prose-dark blockquote {
  border-left: 3px solid var(--accent);
  padding-left: 1em;
  margin: 1em 0;
  color: var(--text-muted);
  font-style: italic;
}
.prose-dark ul, .prose-dark ol { margin: 1em 0; padding-left: 1.5em; }
.prose-dark li { margin: 0.5em 0; }
.prose-dark ul li::marker { color: var(--accent); }
.prose-dark hr { border: none; border-top: 1px solid var(--border); margin: 2em 0; }
.prose-dark table { width: 100%; border-collapse: collapse; margin: 1em 0; }
.prose-dark th, .prose-dark td { border: 1px solid var(--border); padding: 0.5em 0.75em; }
.prose-dark th { background: var(--surface-raised); font-weight: 600; }

/* Sub-agent mini orb pulse */
@keyframes mini-orb-pulse {
  0%, 100% { box-shadow: 0 0 6px #22c55e, 0 0 12px #16a34a; transform: scale(1); }
  50% { box-shadow: 0 0 10px #22c55e, 0 0 20px #16a34a; transform: scale(1.15); }
}
.animate-mini-orb-pulse { animation: mini-orb-pulse 2s ease-in-out infinite; }

/* Timer and status animations */
@keyframes glow {
  0%, 100% { text-shadow: 0 0 20px rgba(255, 107, 53, 0.4); }
  50% { text-shadow: 0 0 30px rgba(255, 107, 53, 0.8), 0 0 40px rgba(255, 107, 53, 0.6); }
}

@keyframes pulse {
  0%, 100% { opacity: 1; transform: scale(1); }
  50% { opacity: 0.8; transform: scale(1.05); }
}

/* Vault Markdown Styles */
.vault-markdown h1 { font-size: 1.3rem; font-weight: 700; color: #e2e8f0; margin: 20px 0 10px; }
.vault-markdown h2 { font-size: 1.1rem; font-weight: 600; color: #cbd5e1; margin: 18px 0 8px; border-bottom: 1px solid rgba(255,255,255,0.06); padding-bottom: 4px; }
.vault-markdown h3 { font-size: 0.95rem; font-weight: 600; color: #94a3b8; margin: 14px 0 6px; }
.vault-markdown h4 { font-size: 0.85rem; font-weight: 600; color: #64748b; margin: 10px 0 4px; }
.vault-markdown strong { color: #e2e8f0; }
.vault-markdown a { color: #f97316; text-decoration: underline; text-underline-offset: 2px; }
.vault-markdown a:hover { color: #fb923c; }
.vault-markdown code { background: rgba(255,255,255,0.06); padding: 1px 5px; border-radius: 4px; font-size: 0.78rem; color: #f59e0b; }
.vault-markdown pre { background: rgba(0,0,0,0.3); border: 1px solid rgba(255,255,255,0.06); border-radius: 8px; padding: 12px; overflow-x: auto; margin: 10px 0; }
.vault-markdown pre code { background: none; padding: 0; color: #94a3b8; }
.vault-markdown ul { margin: 6px 0; padding-left: 20px; }
.vault-markdown li { margin: 3px 0; }
.vault-markdown hr { border: none; border-top: 1px solid rgba(255,255,255,0.08); margin: 16px 0; }
.vault-markdown table { border-collapse: collapse; width: 100%; margin: 10px 0; }
.vault-markdown th, .vault-markdown td { padding: 6px 10px; border: 1px solid rgba(255,255,255,0.08); font-size: 0.75rem; }
.vault-markdown th { background: rgba(255,255,255,0.04); font-weight: 600; color: #cbd5e1; }
